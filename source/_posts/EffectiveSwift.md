title: Swift 最佳实践
date: 2014-12-14 22:32:55
tags:
---

本文内容总结自 iOSCon2014 李建中老师讲演

## 结构

结构是值类型，所以在任何结构传递的地方都会触发复制，需要谨慎使用

不要在结构中引用 Class 这样会破坏结构体的轻量和线程安全特性
注：这里我还是有点异议的，在享元模式中可以非常好的套用到这个情形

谨慎使用多层 Class

## 数组

数组和字符串具有可变成本，尽可能使用 let

## 对象

明确指定变量和常量类型，减少类型推断

尽可能将对象声明为可选值类型，这样可以显性的去释放内存

区分值相等 == != 和引用相等 === !===

谨慎使用类型扩展

较大自定义类型使用延迟存储属性

仅在需要释放资源时才定义析构器

析构过程尽可能短

尽早将可选类型设置为空

谨慎创建全局对象

## 内存管理

避免循环强引用



