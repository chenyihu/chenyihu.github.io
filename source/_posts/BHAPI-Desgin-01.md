title: BHAPI设计 (一)
date: 2015-03-08 22:00:55
tags:
---

之前做轻卡的时候完全设计了新的API接口调用方式，经过了2个APP的实践，从可用到好用也迭代了几个版本

BHAPI 从设计之初就有了以下几个目标：

1. 自由更换网络框架，安全，无痛

2. 自动的缓存处理机制，灵活，可靠

3. 中间层代码由机器生成，而机器不会犯错，所以代码是高质量的

4. 可以方便的伪造假数据用于开发阶段测试

5. Design（即ViewModel）可以在页面销毁时自动cancel掉网络请求

6. 全局的错误处理，Loading显示，断线重连，进入前台时自动刷新

总结起来就是，傻瓜，智能

如今上述几个目标大致完成，所以也打上了 1.0 的 Tag，2.0主要是加入函数响应式编程支持。

从这周开始就逐步的介绍一下整个设计是如何解决这些问题的。